# 标题待定

工作用技术栈记录

参考技术栈为开源项目https://gitee.com/xiaoxiangopen/analysis

## Flume数据采集

### 前言

公司平台每日会产生大量日志，一般为流式数据，如查询、搜索引擎pv等，处理这些日志需要特定日志系统，需要具备以下特征：

1. 应用系统与分析系统的桥梁，解耦关联
2. 近实时的在线分析系统，类似Hadoop的离线分析系统
3. 高可扩展性，如数据量增加时，可以通过增加节点进行水平扩展

**符合条件的开源日志系统**

- scribe（facebook）
- chukwa（apache）
- flume（cloudera）

### 简介

分布式、可靠、高可用的海量日志聚合系统。

- 支持在系统中定制各类数据发送方，用于收集数据；
- 提供对数据的简单处理，写到各种数据接收方（比如文本、HDFS、Hbase等）的能力。

**可靠性**

节点故障时，能将日志传送到其他节点不会丢失；

提供三种级别可靠性：

- end-to-end 

  收到数据agent首先将event写到磁盘上，当数据传送成功后，再删除；如果数据发送失败，可以重新发送。

- Store on failure 

  也是scribe采用的策略，当数据接收方crash时，将数据写到本地，待恢复后，继续发送

- Besteffort 

  数据发送到接收方后，不会进行确认

**可恢复性**

靠Channel，推荐使用FileChannel，事件持久化在本地文件系统里（性能较差）



### 核心概念

https://www.cnblogs.com/qingyunzong/p/8994494.html



### 安装

